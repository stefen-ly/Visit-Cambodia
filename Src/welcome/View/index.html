<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Unspoken Dialogue Exhibition</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    animation: {
                        'float': 'float 8s infinite linear',
                        'fade-in': 'fadeIn 0.5s ease'
                    },
                    keyframes: {
                        float: {
                            '0%': {
                                transform: 'translateY(100vh) rotate(0deg)',
                                opacity: '0'
                            },
                            '10%': {
                                opacity: '1'
                            },
                            '90%': {
                                opacity: '1'
                            },
                            '100%': {
                                transform: 'translateY(-100px) rotate(360deg)',
                                opacity: '0'
                            }
                        },
                        fadeIn: {
                            'from': {
                                opacity: '0',
                                transform: 'translateY(20px)'
                            },
                            'to': {
                                opacity: '1',
                                transform: 'translateY(0)'
                            }
                        }
                    }
                }
            }
        }
    </script>
</head>

<body class="min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 text-gray-800 transition-opacity duration-300">
    <!-- Floating Particles -->
    <div class="fixed inset-0 pointer-events-none z-10" id="particlesContainer"></div>

    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-6">
        <!-- Header -->
        <header class="flex flex-col lg:flex-row items-center justify-between mb-8 pb-6 border-b-2 border-gray-200">
            <div class="flex items-center gap-4 mb-4 lg:mb-0">
                <div class="flex gap-3">
                    <div class="w-10 h-10 bg-blue-600 rounded-full flex items-center justify-center text-white text-sm hover:bg-blue-700 transition-colors cursor-pointer">
                        üé®
                    </div>
                </div>
                <div>
                    <h1 id="eventTitle" class="text-2xl lg:text-3xl font-bold text-gray-900 mb-1 opacity-70 transform translate-y-2 transition-all duration-300">
                        Loading...
                    </h1>
                    <p class="text-sm text-gray-500">Traditional Cambodian Events</p>
                </div>
            </div>
            <button onclick="goBackToEvents()" class="inline-flex items-center px-4 py-2 bg-blue-600 text-white text-sm font-medium rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors">
                Back to Events
            </button>
        </header>

        <!-- Main Content -->
        <main class="grid grid-cols-1 lg:grid-cols-12 gap-8">
            <!-- Left Column - Poster & Gallery -->
            <section class="lg:col-span-4">
                <!-- Main Poster -->
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6 mb-6">
                    <img id="exhibitionImage" class="w-full h-90 object-cover rounded-lg mb-4" src="" alt="Event Poster">
                </div>

                <!-- Gallery -->
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-6">
                    <h3 class="text-lg font-semibold text-gray-900 mb-4">Gallery</h3>
                    <div id="galleryGrid" class="grid grid-cols-2 sm:grid-cols-3 gap-3">
                        <!-- Gallery images will be populated here -->
                    </div>
                </div>
            </section>

            <!-- Right Column - Event Details -->
            <section class="lg:col-span-8">
                <div class="bg-white rounded-xl shadow-lg border border-gray-200 p-8">
                    <!-- Event Title -->
                    <h2 id="eventTitleDetail" class="text-2xl lg:text-3xl font-bold text-gray-900 mb-6">
                        Event Details
                    </h2>

                    <!-- Event Meta Information -->
                    <div class="grid grid-cols-1 sm:grid-cols-2 gap-4 mb-6">
                        <!-- Date Box -->
                        <div class="flex items-center bg-blue-50 border border-blue-200 text-blue-700 rounded-2xl p-4 shadow-sm">
                            <span class="text-xl mr-3">üìÖ</span>
                            <span id="exhibitionDate" class="text-base font-medium">Loading...</span>
                        </div>

                        <!-- Location Box -->
                        <div class="flex items-center bg-green-50 border border-green-200 text-green-700 rounded-2xl p-4 shadow-sm">
                            <span class="text-xl mr-3">üìç</span>
                            <span id="exhibitionLocation" class="text-base font-medium">Loading...</span>
                        </div>
                    </div>

                    <!-- Tags -->
                    <div id="tagsContainer" class="flex flex-wrap gap-2 mb-8">
                        <!-- Tags will be populated here -->
                    </div>

                    <!-- Event Description -->
                    <div class="prose prose-gray max-w-none mb-8">
                        <p id="exhibitionIntro" class="text-gray-700 leading-relaxed">
                            Loading event description...
                        </p>
                    </div>

                    <!-- Things To Know Section -->
                    <div class="border-t border-gray-200 pt-8">
                        <h3 class="text-xl font-semibold text-gray-900 mb-6">Things To Know</h3>
                        <div id="factsContainer" class="space-y-4">
                            <!-- Facts will be populated here -->
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal for Gallery Images -->
    <div id="imageModal" class="fixed inset-0 z-50 hidden">
        <div class="fixed inset-0 bg-black bg-opacity-90 backdrop-blur-sm"></div>
        <div class="fixed inset-0 flex items-center justify-center p-4">
            <button onclick="closeModal()" class="absolute top-4 right-4 text-white text-3xl font-bold hover:text-blue-400 transition-colors z-10">
                √ó
            </button>
            <div class="relative max-w-full max-h-full">
                <img id="modalImage" class="max-w-full max-h-full rounded-lg" src="" alt="Gallery Image">
            </div>
        </div>
    </div>

    <script>
        // Event data mappings (using your existing data structure)
        const eventArtworkMappings = {
            1: {
                eventName: "Khmer New Year",
                eventDate: "April 13-14-15 or 14-15-16 Every Years",
                eventImage: "https://i.pinimg.com/736x/91/11/00/9111001be4307e8026cd39773e9157ee.jpg",
                location: "Cambodia, Every where",
                description: "In Cambodia, Khmer New Year is the greatest traditional festival, and also the greatest national holiday. It is three days of festival and sometimes can be four days. Khmer New Year begins on April 13th or can begin on April 14th, depending on the \"MohaSangkran,\" which is the ancient horoscope. In fact, Khmer New Year originally began on the first day of the first month in the lunar calendar, which can be in November or the beginning of December. In the Angkor Era, the 13th Century, the Khmer King, either Suriyavaraman II or Jayavaraman VII, changed the New Year to the fifth month of the lunar calendar, in April by the solar calendar.",
                tags: ["Art and Culture", "Contemporary Art"],
                gallery: [
                    "https://i.pinimg.com/736x/b8/50/f2/b850f245f0338f4de142716d7fd4ec6f.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2024/04/2Over-300000-celebrate-last-day-of-Khmer-New-Year-in-Phnom-Penh.jpg",
                    "https://i.pinimg.com/736x/db/4a/64/db4a64a8988c6c0d14d91b56d9df0b00.jpg",
                    "https://www.gavroche-thailande.com/wp-content/uploads/2025/02/festival-sankranta.jpg",
                    "https://www.tourismcambodia.com/img/pictures/phcum-ben-2373.jpg?1550741698920",
                    "https://www.cambodianewswatch.org/wp-content/uploads/2022/04/CHOR2573.jpg"
                ],
                thingsToKnow: [
                    "The first day of New Year is called Moha Sangkran, and it can be described simply as the inauguration of the New Angels who come to take care of the world for a one-year period. The leader of Angels is named \"KimiteaTevi. People need to clean and decorate the house and also prepare fruits and drinks for the New Year inauguration and to welcome the New Angels at every single home.",
                    "The second day of New Year is called Wanabot, which means day of offering gifts to the parents, grandparents and elders. Usually, Khmer People like to share gifts or presents to employees and also donate money or clothes to poor people. In the evening, people go to temple to build a mountain of sand and ask the monks to give them a blessing of happiness and peace.",
                    "The third day is called day of \"Leung Sakk;\" that means the year starts to be counted up from this day, for example it is when the year of 2000 would change and begin to be 2001. Traditionally, in the morning, people would go to the temple to perform the ceremony of the mountain of sand to get blessed. In the evening, to complete the New Year festival, Khmer people need to perform the last ceremony, called \"Pithi Srang Preah\", which means giving a special bath or a special shower to Buddha statues, the monks, elders, parents and grandparents in order to apologize for any mistake done to them and to gratify them. Everyone has a wonderful time during this ceremony because it is a great opportunity for everyone, young and old, man and woman, to have much fun by spreading out water to each other."
                ]
            },
            2: {
                eventName: "Angkor Wat Equinox",
                eventDate: "March 21st or 23rd Every Years",
                eventImage: "https://i.pinimg.com/736x/33/42/b6/3342b65ef0e9be4e29e9ffa60b547207.jpg",
                location: "Cambodia, Siem Reap, Angkor Wat",
                description: "The Angkor Wat Equinox is a celestial phenomenon that occurs twice a year. It is during this time that the sun crosses the plane of the Earth's equator, resulting in day and night being of equal length. For a few precious moments, the ancient temple is bathed in a warm golden glow as the sunrise, creating a surreal and captivating sight.",
                tags: ["Cultural Heritage", "Astronomy"],
                gallery: [
                    "https://i.ytimg.com/vi/5aoQt1HelIQ/maxresdefault.jpg",
                    "https://ik.imagekit.io/tvlk/xpe-asset/AyJ40ZAo1DOyPyKLZ9c3RGQHTP2oT4ZXW+QmPVVkFQiXFSv42UaHGzSmaSzQ8DO5QIbWPZuF+VkYVRk6gh-Vg4ECbfuQRQ4pHjWJ5Rmbtkk=/3843366820559/Angkor-Temples-Sunrise-Tour-by-Tuk-Tuk-883762ff-93ae-415b-9bde-e464a491f623.jpeg?tr=q-60,c-at_max,w-1280,h-720&_src=imagekit",
                    "https://media.rezgo.com/33138/318916/361383.jpg",
                    "https://res.klook.com/images/fl_lossy.progressive,q_65/c_fill,w_1280,h_720/w_80,x_15,y_15,g_south_west,l_Klook_water_br_trans_yhcmh3/activities/sey8n434or1v9t6zova4/AngkorWatSunriseBikeTour-Klook.jpg"
                ],
                thingsToKnow: [
                    "The Angkor Wat Equinox provides photographers with a plethora of unique and breathtaking shots. Capturing the first rays of the sun illuminating the ancient temple can result in extraordinary photographs that convey the sheer beauty and grandeur of Angkor Wat.",
                    "For many, witnessing the Angkor Wat equinox holds spiritual and symbolic meaning. The alignment of the sun with the temple's central tower is believed to be a sacred moment that signifies renewal, balance, and spiritual enlightenment. It offers a chance for introspection and connection with something larger than ourselves.",
                    "Attending the Angkor Wat Equinox allows you to immerse yourself in the rich history and culture of Cambodia. As you observe this phenomenon alongside locals and fellow travelers, you gain a deeper understanding of the significance of Angkor Wat in the country's heritage. It is a chance to appreciate the craftsmanship and architectural marvels left behind by the Khmer Empire."
                ]
            },
            3: {
                eventName: "Cambodia National Culture Day",
                eventDate: "March 3rd Every Year",
                eventImage: "https://i.pinimg.com/736x/7d/d4/bc/7dd4bce854a27120548763947b279064.jpg",
                location: "Various Cultural Centers",
                description: "The National Culture Day, celebrated every year on Mar. 3, is an important day in raising awareness of the great value of the country's rich cultural heritage.",
                tags: ["Culture", "Heritage"],
                gallery: [
                    "https://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-49-1.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-51-13.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-49-3.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-08-36-0.jpg"
                ],
                thingsToKnow: [
                    "The National Culture Day is aimed to commemorate the physical, mental, intellectual and life-long contributions of all generations of Cambodian ancestors to create, preserve and protect the rich and priceless cultural heritage that has been passed down to future generations, said His Majesty the King",
                    "It's one of the most photogenic and spiritual events of the year.",
                    "Be sure to arrive early to get a front-row view and witness the crowd's reaction."
                ]
            },
            4: {
                eventName: "Pchum Ben , Kathen Festival",
                eventDate: "October Every Year",
                eventImage: "https://i.pinimg.com/736x/5d/16/77/5d16773d6be29e7ae9f49cd595b85efa.jpg",
                location: "Buddhist Temples Nationwide",
                description: "Pchum Ben Day is also called the Ancestors' Day or the Spirits' day. It is observed in memory of ancestors, and the Cambodian Buddhists pay their respects to the dead by celebrations and offerings (a Ben is an offering). The Pchum Ben Festival is celebrated for fifteen days in the tenth month of the Khmer calendar and the fifteenth day is called Pheaktrobotr.",
                tags: ["Religious", "Traditional"],
                gallery: [
                    "https://www.khmertimeskh.com/wp-content/uploads/2022/08/43327.jpg",
                    "https://e35t86rc4ya.exactdn.com/wp-content/uploads/2022/09/pchumben2022-2.jpg?strip=all&lossy=1&webp=85&avif=75&ssl=1",
                    "https://www.khmertimeskh.com/wp-content/uploads/2021/09/26274.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2019/08/pchum-ben.jpg"
                ],
                thingsToKnow: [
                    "The people of Cambodia believe that after death they become ghosts whose earthly actions shape their appearance and that they walk the earth at this time. The living eases our suffering by offering them food. We also make offerings of money, dresses and other items to the monks in the temples. All Khmers are also offered food and drink. The offerings made are shared by the poor and the disabled during Pchum Ben and the donors acquire merit and cancel out past sins.",
                    "In the morning at 8:00 AM, people come to the temple, with offerings for the monks. They bring money and other things as well. At 10:00 the people return with more food, which will be shared between monks and poor people. Many of the Buddhist traditions seem to relate to feeding the poor. Disabled people also crowd around the temple tat is hour, begging alms. To give help to the less-fortunate, particularly during Pchum Ben, is to acquire merit. Between 5:00-7:00 PM there will be more prayers for the dead. People would be coming back to the temple at 4:00 the next morning because we have to toss the rice ball to our ancestors so we have to be up at 3:00.",
                    "One of the reasons the monks are offered gifts is because the Buddha commanded the monks to remain indoors for three months praying and meditating and hence food had to be given by outsiders. In the past, crops were planted inside the temple grounds and the young plants would die if monks walked about, hence they were told to remain indoors. This was the time to concentrate and purify the minds, by engaging in meditation. People are told to abstain from alcohol and behave well, and the monks are secluded, because if they failed, they would not get any offerings during the festival.",
                    "A majority of people in Cambodia take this festival very seriously even if our beliefs and ideas have changed a little bit, thus is still the impact of Buddhist religion which is an integral part of Khmer culture. This year the Pchum Ben Day is expected to be celebrated on October 8 and September 24 is the first day of Kann Ben that everyone has to go to the pagoda to let their ancestors see them in the first day if according to the Khmer's Belief. I'm also happy that i can meet all my relatives at hometown then we go to the pagoda together to offer food to the monk for giving prayers to our dead ancestors and i wish that day is coming soon!!!"
                ]
            },
            5: {
                eventName: "Khmer Water Festival",
                eventDate: "Late October and Early November Every Year",
                eventImage: "https://i.pinimg.com/736x/6a/75/9a/6a759ae3041a5d585f3d6e622a37d574.jpg",
                location: "Cambodia, Phnom Penh, Mekong River",
                description: "The Water festival, or Bon Om Touk in Khmer, is one of the most important events in Cambodia. This year, over seven million Khmers gathered from all over the country to watch the races and take part in the festivities.",
                tags: ["Festival", "Water Sports"],
                gallery: [
                    "https://southeastasiajourneys.com/wp-content/uploads/2024/09/Experience-The-Magic-And-Excitement-Of-Cambodias-Legendary-Bon-Om-Touk-water-festival.jpg",
                    "https://www.gocambodia.tours/wp-content/uploads/2016/11/Boat-Procession-during-Bon-Om-Touk.jpg",
                    "https://i.ytimg.com/vi/Jv0TKvsnkd4/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB-uCW68gBLIfrP7aWrBrM4a8bLMA",
                    "https://asset.ams.com.kh/khmercivilization/media/Cover-89.jpg",
                    "https://www.shutterstock.com/image-photo/phnom-penh-cambodia-november-20-600nw-2159052997.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2024/09/88999.jpg"
                ],
                thingsToKnow: [
                    "Historically, the Water Festival was celebrated as far back as the time of the Angkorian kings. The best warriors of the kingdom competed in naval races. Representations of these races can be seen engraved on the Bayon temple, in Angkor.",
                    "At the heart of the festivities are the dragon dugout races. These colorful boats, sometimes dozens of meters long, are propelled by highly coordinated teams. Each team usually represents a village or district, and proudly displays its colors. They symbolize the unity and strength of the Khmer people.",
                    "The water festival marks the end of the rainy season and the change of direction of the waters of the Tonl√© Sap, a phenomenon unique in the world. For three days and nights, the country celebrates abundant harvests, prosperity and the power of the waters."
                ]
            }
        };

        // Global variables
        let currentEvent;

        // Utility functions
        function getEventFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const eventId = parseInt(urlParams.get('event')) || 1;
            return eventArtworkMappings[eventId] || eventArtworkMappings[1];
        }

        function updateEventContent() {
            // Update header title
            const eventTitle = document.getElementById('eventTitle');
            eventTitle.textContent = currentEvent.eventName;

            // Update main content
            const exhibitionDate = document.getElementById('exhibitionDate');
            const exhibitionLocation = document.getElementById('exhibitionLocation');
            const exhibitionImage = document.getElementById('exhibitionImage');
            const exhibitionIntro = document.getElementById('exhibitionIntro');

            if (exhibitionDate) exhibitionDate.textContent = currentEvent.eventDate;
            if (exhibitionLocation) exhibitionLocation.textContent = currentEvent.location;
            if (exhibitionImage) {
                exhibitionImage.src = currentEvent.eventImage;
                exhibitionImage.alt = currentEvent.eventName;
            }
            if (exhibitionIntro) exhibitionIntro.textContent = currentEvent.description;

            // Update tags
            renderTags();

            // render the thing to know part
            renderThingsToKnow();

            // render the gallery
            renderGallery();

            // Remove loading class
            setTimeout(() => {
                eventTitle.classList.remove('opacity-70', 'transform', 'translate-y-2');
                eventTitle.classList.add('animate-fade-in');
            }, 100);
        }

        function renderTags() {
            const tagsContainer = document.getElementById('tagsContainer');
            if (!tagsContainer || !currentEvent.tags) return;

            tagsContainer.innerHTML = '';
            currentEvent.tags.forEach(tag => {
                const tagElement = document.createElement('span');
                tagElement.className = 'inline-flex items-center px-3 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 border border-gray-200';
                tagElement.textContent = tag;
                tagsContainer.appendChild(tagElement);
            });
        }

        function renderGallery() {
            const galleryGrid = document.getElementById("galleryGrid");
            if (!galleryGrid || !currentEvent.gallery) return;

            galleryGrid.innerHTML = '';

            currentEvent.gallery.forEach((imageUrl, index) => {
                const galleryItem = document.createElement("div");
                galleryItem.className = "relative group cursor-pointer rounded-lg overflow-hidden bg-gray-100 hover:shadow-lg transform hover:-translate-y-1 transition-all duration-300";
                galleryItem.onclick = () => openModal(imageUrl);

                const img = document.createElement("img");
                img.className = "w-full h-90 object-cover";
                img.src = imageUrl;
                img.alt = `${currentEvent.eventName} Gallery Image ${index + 1}`;
                img.onerror = function() {
                    this.src = 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=300&fit=crop';
                };

                const overlay = document.createElement("div");
                overlay.className = "absolute inset-0 bg-blue-600 bg-opacity-0 group-hover:bg-opacity-80 flex items-center justify-center transition-all duration-300";
                overlay.innerHTML = '<span class="text-white text-xl opacity-0 group-hover:opacity-100 transform scale-75 group-hover:scale-100 transition-all duration-300">üîç</span>';

                galleryItem.appendChild(img);
                galleryItem.appendChild(overlay);
                galleryGrid.appendChild(galleryItem);
            });
        }

        function openModal(imageUrl) {
            const modal = document.getElementById("imageModal");
            const modalImage = document.getElementById("modalImage");

            modalImage.src = imageUrl;
            modal.classList.remove('hidden');

            // Close modal when clicking outside the image
            modal.onclick = function(event) {
                if (event.target === modal || event.target.classList.contains('bg-black')) {
                    closeModal();
                }
            }
        }

        function closeModal() {
            const modal = document.getElementById("imageModal");
            modal.classList.add('hidden');
        }

        function renderThingsToKnow() {
            const factsContainer = document.getElementById("factsContainer");
            if (!factsContainer || !currentEvent.thingsToKnow) return;

            factsContainer.innerHTML = '';

            currentEvent.thingsToKnow.forEach(fact => {
                const factDiv = document.createElement("div");
                factDiv.className = "bg-gray-50 border-l-4 border-blue-500 p-4 rounded-r-lg";

                const p = document.createElement("p");
                p.className = "text-gray-700 text-sm leading-relaxed";
                p.textContent = fact;

                factDiv.appendChild(p);
                factsContainer.appendChild(factDiv);
            });
        }

        // Navigation function
        function goBackToEvents() {
            document.body.style.opacity = '0.8';

            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = 'index.html';
            }

            setTimeout(() => {
                window.location.href = 'index.html';
            }, 300);
        }

        // Keyboard navigation
        function handleKeyDown(e) {
            if (e.key === 'Escape') {
                e.preventDefault();
                const modal = document.getElementById("imageModal");
                if (!modal.classList.contains('hidden')) {
                    closeModal();
                } else {
                    goBackToEvents();
                }
            }
        }

        // Create floating particles
        function createFloatingParticles() {
            const particlesContainer = document.getElementById('particlesContainer');
            const particleCount = 15;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'absolute w-1 h-1 bg-blue-400 bg-opacity-30 rounded-full animate-float';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Event listeners setup
        function setupEventListeners() {
            document.addEventListener('keydown', handleKeyDown);
        }

        // Initialize the application
        function init() {
            // Get current event data
            currentEvent = getEventFromURL();

            // Initialize the interface
            updateEventContent();
            setupEventListeners();
            createFloatingParticles();

            // Add loading completion class
            document.body.classList.add('animate-fade-in');
        }

        // Start the application when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>

</html>