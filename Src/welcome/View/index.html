<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>The Unspoken Dialogue Exhibition</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            min-height: 100vh;
            color: #333;
            transition: opacity 0.3s ease;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 30px;
            padding: 20px 0;
            border-bottom: 2px solid #e0e0e0;
        }

        .header-left {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .nav-icons {
            display: flex;
            gap: 10px;
        }

        .nav-icon {
            width: 24px;
            height: 24px;
            background: #007acc;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 12px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .nav-icon:hover {
            background: #005a9e;
        }

        .title-section h1 {
            font-size: 28px;
            color: #2c3e50;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .subtitle {
            color: #7f8c8d;
            font-size: 14px;
        }

        .back-btn {
            background: #007acc;
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            transition: background 0.3s ease;
        }

        .back-btn:hover {
            background: #005a9e;
        }

        .main-content {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
            align-items: start;
        }

        .poster-section {
            position: relative;
        }

        .poster-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
        }

        .poster-image {
            width: 100%;
            height: 350px;
            object-fit: cover;
            border-radius: 8px;
            margin-bottom: 15px;
        }

        .poster-thumbnail {
            width: 60px;
            height: 80px;
            object-fit: cover;
            border-radius: 4px;
            border: 2px solid #007acc;
            cursor: pointer;
        }

        .gallery-container {
            background: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
            margin-top: 20px;
        }

        .gallery-title {
            font-size: 18px;
            font-weight: 600;
            color: #2c3e50;
            margin-bottom: 15px;
        }

        .gallery-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 12px;
        }

        .gallery-item {
            position: relative;
            cursor: pointer;
            border-radius: 8px;
            overflow: hidden;
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            background: #f8f9fa;
        }

        .gallery-item:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
        }

        .gallery-image {
            width: 100%;
            height: 100px;
            object-fit: cover;
            display: block;
        }

        .gallery-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 122, 204, 0.8);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            opacity: 0;
            transition: opacity 0.3s ease;
            font-size: 20px;
        }

        .gallery-item:hover .gallery-overlay {
            opacity: 1;
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 1000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(5px);
        }

        .modal-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 90%;
            max-height: 90%;
        }

        .modal-image {
            width: auto;
            height: auto;
            max-width: 100%;
            max-height: 100%;
            border-radius: 8px;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 25px;
            color: white;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            z-index: 1001;
        }

        .modal-close:hover {
            color: #007acc;
        }

        .details-section {
            background: white;
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
            border: 1px solid #e0e0e0;
        }

        .event-type {
            color: #007acc;
            font-size: 14px;
            font-weight: 600;
            margin-bottom: 10px;
        }

        .event-title {
            font-size: 24px;
            font-weight: 700;
            color: #2c3e50;
            margin-bottom: 15px;
            line-height: 1.3;
        }

        .event-meta {
            margin-bottom: 20px;
        }

        .meta-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 8px;
            font-size: 14px;
            color: #555;
        }

        .meta-icon {
            font-size: 16px;
        }

        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
            margin-bottom: 25px;
        }

        .tag {
            background: #f8f9fa;
            color: #495057;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            border: 1px solid #dee2e6;
        }

        .description {
            color: #555;
            line-height: 1.6;
            font-size: 15px;
            margin-bottom: 30px;
        }

        .things-to-know {
            margin-top: 30px;
        }

        .things-to-know h3 {
            color: #2c3e50;
            font-size: 18px;
            margin-bottom: 15px;
            font-weight: 600;
        }

        .fact-item {
            background: #f8f9fa;
            border-left: 4px solid #007acc;
            padding: 15px;
            margin-bottom: 12px;
            border-radius: 0 8px 8px 0;
        }

        .fact-item p {
            color: #555;
            line-height: 1.5;
            font-size: 14px;
        }

        .floating-particles {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
        }

        .particle {
            position: absolute;
            width: 4px;
            height: 4px;
            background: rgba(0, 122, 204, 0.3);
            border-radius: 50%;
            animation: float 8s infinite linear;
        }

        @keyframes float {
            0% {
                transform: translateY(100vh) rotate(0deg);
                opacity: 0;
            }
            10% {
                opacity: 1;
            }
            90% {
                opacity: 1;
            }
            100% {
                transform: translateY(-100px) rotate(360deg);
                opacity: 0;
            }
        }

        .loading {
            opacity: 0.7;
            transform: translateY(10px);
            transition: all 0.3s ease;
        }

        .loaded {
            animation: fadeIn 0.5s ease;
        }

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
                gap: 20px;
            }
            
            .header {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .poster-image {
                height: 250px;
            }
        }
    </style>
</head>
<body>
    <div class="floating-particles"></div>
    
    <div class="container">
        <header class="header">
            <div class="header-left">
                <div class="nav-icons">
                    <div class="nav-icon">üé®</div>
                    <div class="nav-icon">üèõÔ∏è</div>
                </div>
                <div class="title-section">
                    <h1 id="eventTitle" class="loading">Loading...</h1>
                    <div class="subtitle">Traditional Cambodian Events</div>
                </div>
            </div>
            <button class="back-btn" onclick="goBackToEvents()">‚Üê Back to Events</button>
        </header>

        <main class="main-content">
            <section class="poster-section">
                <div class="poster-container">
                    <img id="exhibitionImage" class="poster-image" src="" alt="Event Poster">
                </div>
                
                <div class="gallery-container">
                    <h3 class="gallery-title">Gallery</h3>
                    <div id="galleryGrid" class="gallery-grid">
                        <!-- Gallery images will be dynamically populated -->
                    </div>
                </div>
            </section>

            <section class="details-section">
                <div class="event-type">Event Type</div>
                <div class="event-type">üé≠ Art and Culture</div>
                
                <h2 id="eventTitleDetail" class="event-title">Event Details</h2>
                
                <div class="event-meta">
                    <div class="meta-item">
                        <span class="meta-icon">üìÖ</span>
                        <span id="exhibitionDate">Loading...</span>
                    </div>
                    <div class="meta-item">
                        <span class="meta-icon">üìç</span>
                        <span id="exhibitionLocation">Loading...</span>
                    </div>
                </div>

                <div class="tags-container">
                    <!-- Tags will be dynamically populated -->
                </div>

                <div class="description">
                    <p id="exhibitionIntro">Loading event description...</p>
                </div>

                <div class="things-to-know">
                    <h3>Things To Know</h3>
                    <div id="factsContainer">
                        <!-- Facts will be dynamically populated -->
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- Modal for gallery images -->
    <div id="imageModal" class="modal">
        <span class="modal-close" onclick="closeModal()">&times;</span>
        <div class="modal-content">
            <img id="modalImage" class="modal-image" src="" alt="Gallery Image">
        </div>
    </div>

    <script>
        // Event data mappings (using your existing data structure)
        const eventArtworkMappings = {
            1: {
                eventName: "Khmer New Year",
                eventDate: "April 13-14-15 or 14-15-16 Every Years",
                eventImage: "https://i.pinimg.com/736x/91/11/00/9111001be4307e8026cd39773e9157ee.jpg",
                location: "Cambodia, Every where",
                description: "In Cambodia, Khmer New Year is the greatest traditional festival, and also the greatest national holiday.  It is three days of festival and sometimes can be four days. Khmer New Year begins on April 13th or can begin on April 14th, depending on the \"MohaSangkran,\" which is the ancient horoscope. In fact, Khmer New Year originally began on the first day of the first month in the lunar calendar, which can be in November or the beginning of December. In the Angkor Era, the 13th Century, the Khmer King, either Suriyavaraman II or Jayavaraman VII, changed the New Year to the fifth month of the lunar calendar, in April by the solar calendar.",
                tags: ["Art and Culture", "Contemporary Art"],
                gallery: [
                    "https://i.pinimg.com/736x/b8/50/f2/b850f245f0338f4de142716d7fd4ec6f.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2024/04/2Over-300000-celebrate-last-day-of-Khmer-New-Year-in-Phnom-Penh.jpg",
                    "https://i.pinimg.com/736x/db/4a/64/db4a64a8988c6c0d14d91b56d9df0b00.jpg",
                    "https://www.gavroche-thailande.com/wp-content/uploads/2025/02/festival-sankranta.jpg",
                    "https://www.tourismcambodia.com/img/pictures/phcum-ben-2373.jpg?1550741698920",
                    "https://www.cambodianewswatch.org/wp-content/uploads/2022/04/CHOR2573.jpg"
                ],
                thingsToKnow: [
            "The first day of New Year is called Moha Sangkran, and it can be described simply as the inauguration of the New Angels who come to take care of the world for a one-year period. The leader of Angels is named \"KimiteaTevi. People need to clean and decorate the house and also prepare fruits and drinks for the New Year inauguration and to welcome the New Angels at every single home. ",
            "The second day of New Year is called Wanabot, which means day of offering gifts to the parents, grandparents and elders. Usually, Khmer People like to share gifts or presents to employees and also donate money or clothes to poor people. In the evening, people go to temple to build a mountain of sand and ask the monks to give them a blessing of happiness and peace.",
            "The third day is called day of \"Leung Sakk;\" that means the year starts to be counted up from this day, for example it is when the year of 2000 would change and begin to be 2001.  Traditionally, in the morning, people would go to the temple to perform the ceremony of the mountain of sand to get blessed. In the evening, to complete the New Year festival, Khmer people need to perform the last ceremony, called \"Pithi Srang Preah\", which means giving a special bath or a special shower to Buddha statues, the monks, elders, parents and grandparents in order to apologize for any mistake done to them and to gratify them. Everyone has a wonderful time during this ceremony because it is a great opportunity for everyone, young and old, man and woman, to have much fun by spreading out water to each other."
        ]
            },
            2: {
                eventName: "Angkor Wat Equinox",
                eventDate: "March 21st or 23rd Every Years",
                eventImage: "https://visitlocaltravel.com/blog/wp-content/uploads/2024/01/Angkor-Wat-Equinox-1.png",
                location: "Cambodia, Siem Reap, Angkor Wat",
                description: "The Angkor Wat Equinox is a celestial phenomenon that occurs twice a year. It is during this time that the sun crosses the plane of the Earth's equator, resulting in day and night being of equal length. For a few precious moments, the ancient temple is bathed in a warm golden glow as the sunrise, creating a surreal and captivating sight.",
                tags: ["Cultural Heritage", "Astronomy"],
                gallery: [
                    "https://i.ytimg.com/vi/5aoQt1HelIQ/maxresdefault.jpg",
                    "https://ik.imagekit.io/tvlk/xpe-asset/AyJ40ZAo1DOyPyKLZ9c3RGQHTP2oT4ZXW+QmPVVkFQiXFSv42UaHGzSmaSzQ8DO5QIbWPZuF+VkYVRk6gh-Vg4ECbfuQRQ4pHjWJ5Rmbtkk=/3843366820559/Angkor-Temples-Sunrise-Tour-by-Tuk-Tuk-883762ff-93ae-415b-9bde-e464a491f623.jpeg?tr=q-60,c-at_max,w-1280,h-720&_src=imagekit",
                    "https://media.rezgo.com/33138/318916/361383.jpg",
                    "https://res.klook.com/images/fl_lossy.progressive,q_65/c_fill,w_1280,h_720/w_80,x_15,y_15,g_south_west,l_Klook_water_br_trans_yhcmh3/activities/sey8n434or1v9t6zova4/AngkorWatSunriseBikeTour-Klook.jpg"
                ],
                thingsToKnow: [
            "The Angkor Wat Equinox provides photographers with a plethora of unique and breathtaking shots. Capturing the first rays of the sun illuminating the ancient temple can result in extraordinary photographs that convey the sheer beauty and grandeur of Angkor Wat.",
            "For many, witnessing the Angkor Wat equinox holds spiritual and symbolic meaning. The alignment of the sun with the temple's central tower is believed to be a sacred moment that signifies renewal, balance, and spiritual enlightenment. It offers a chance for introspection and connection with something larger than ourselves.",
            "Attending the Angkor Wat Equinox allows you to immerse yourself in the rich history and culture of Cambodia. As you observe this phenomenon alongside locals and fellow travelers, you gain a deeper understanding of the significance of Angkor Wat in the country's heritage. It is a chance to appreciate the craftsmanship and architectural marvels left behind by the Khmer Empire."
        ]
            },
            3: {
                eventName: "Cambodia National Culture Day",
                eventDate: "March 3rd Every Year",
                eventImage: "https://i.pinimg.com/736x/7d/d4/bc/7dd4bce854a27120548763947b279064.jpg",
                location: "Various Cultural Centers",
                description: "The National Culture Day, celebrated every year on Mar. 3, is an important day in raising awareness of the great value of the country's rich cultural heritage.",
                tags: ["Culture", "Heritage"],
                gallery: [
                    "https://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-49-1.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-51-13.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-09-49-3.jpg",
                    "http://image.freshnewsasia.com/2021/id-025/fn-2024-03-07-12-08-36-0.jpg"
                ],
                 thingsToKnow: [
            "The National Culture Day is aimed to commemorate the physical, mental, intellectual and life-long contributions of all generations of Cambodian ancestors to create, preserve and protect the rich and priceless cultural heritage that has been passed down to future generations, said His Majesty the King",
            "It's one of the most photogenic and spiritual events of the year.",
            "Be sure to arrive early to get a front-row view and witness the crowd's reaction."
        ]
            },
            4: {
                eventName: "Pchum Ben , Kathen Festival",
                eventDate: "October Every Year",
                eventImage: "https://4.bp.blogspot.com/-ED28y6Ig_Ow/VBQFm4W5EuI/AAAAAAAAE4I/AhM9NkeF3x4/s1600/dsc_0471.jpg",
                location: "Buddhist Temples Nationwide",
                description: "Pchum Ben Day is also called the Ancestors' Day or the Spirits' day. It is observed in memory of ancestors, and the Cambodian Buddhists pay their respects to the dead by celebrations and offerings (a Ben is an offering). The Pchum Ben Festival is celebrated for fifteen days in the tenth month of the Khmer calendar and the fifteenth day is called Pheaktrobotr.",
                tags: ["Religious", "Traditional"],
                gallery: [
                    "https://www.khmertimeskh.com/wp-content/uploads/2022/08/43327.jpg",
                    "https://e35t86rc4ya.exactdn.com/wp-content/uploads/2022/09/pchumben2022-2.jpg?strip=all&lossy=1&webp=85&avif=75&ssl=1",
                    "https://www.khmertimeskh.com/wp-content/uploads/2021/09/26274.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2019/08/pchum-ben.jpg"
                ],
                 thingsToKnow: [
            "The people of Cambodia believe that after death they become ghosts whose earthly actions shape their appearance and that they walk the earth at this time. The living eases our suffering by offering them food. We also make offerings of money, dresses and other items to the monks in the temples. All Khmers are also offered food and drink. The offerings made are shared by the poor and the disabled during Pchum Ben and the donors acquire merit and cancel out past sins.",
            "In the morning at 8:00 AM, people come to the temple, with offerings for the monks. They bring money and other things as well. At 10:00 the people return with more food, which will be shared between monks and poor people. Many of the Buddhist traditions seem to relate to feeding the poor. Disabled people also crowd around the temple tat is hour, begging alms. To give help to the less-fortunate, particularly during Pchum Ben, is to acquire merit. Between 5:00-7:00 PM there will be more prayers for the dead. People would be coming back to the temple at 4:00 the next morning because we have to toss the rice ball to our ancestors so we have to be up at 3:00.",
            "One of the reasons the monks are offered gifts is because the Buddha commanded the monks to remain indoors for three months praying and meditating and hence food had to be given by outsiders. In the past, crops were planted inside the temple grounds and the young plants would die if monks walked about, hence they were told to remain indoors. This was the time to concentrate and purify the minds, by engaging in meditation. People are told to abstain from alcohol and behave well, and the monks are secluded, because if they failed, they would not get any offerings during the festival.",
            "A majority of people in Cambodia take this festival very seriously even if our beliefs and ideas have changed a little bit, thus is still the impact of Buddhist religion which is an integral part of Khmer culture. This year the Pchum Ben Day is expected to be celebrated on October 8 and September 24 is the first day of Kann Ben that everyone has to go to the pagoda to let their ancestors see them in the first day if according to the Khmer's Belief. I'm also happy that i can meet all my relatives at hometown then we go to the pagoda together to offer food to the monk for giving prayers to our dead ancestors and i wish that day is coming soon!!!"
        ]
            },
            5: {
                eventName: "Khmer Water Festival",
                eventDate: "Late October and Early November Every Year",
                eventImage: "https://i.pinimg.com/736x/6a/75/9a/6a759ae3041a5d585f3d6e622a37d574.jpg",
                location: "Cambodia, Phnom Penh, Mekong River",
                description: "The Water festival, or Bon Om Touk in Khmer, is one of the most important events in Cambodia. This year, over seven million Khmers gathered from all over the country to watch the races and take part in the festivities.",
                tags: ["Festival", "Water Sports"],
                gallery: [
                    "https://southeastasiajourneys.com/wp-content/uploads/2024/09/Experience-The-Magic-And-Excitement-Of-Cambodias-Legendary-Bon-Om-Touk-water-festival.jpg",
                    "https://www.gocambodia.tours/wp-content/uploads/2016/11/Boat-Procession-during-Bon-Om-Touk.jpg",
                    "https://i.ytimg.com/vi/Jv0TKvsnkd4/hq720.jpg?sqp=-oaymwEhCK4FEIIDSFryq4qpAxMIARUAAAAAGAElAADIQj0AgKJD&rs=AOn4CLB-uCW68gBLIfrP7aWrBrM4a8bLMA",
                    "https://asset.ams.com.kh/khmercivilization/media/Cover-89.jpg",
                    "https://www.shutterstock.com/image-photo/phnom-penh-cambodia-november-20-600nw-2159052997.jpg",
                    "https://www.khmertimeskh.com/wp-content/uploads/2024/09/88999.jpg"
                ],
                 thingsToKnow: [
            "Historically, the Water Festival was celebrated as far back as the time of the Angkorian kings. The best warriors of the kingdom competed in naval races. Representations of these races can be seen engraved on the Bayon temple, in Angkor.",
            "At the heart of the festivities are the dragon dugout races. These colorful boats, sometimes dozens of meters long, are propelled by highly coordinated teams. Each team usually represents a village or district, and proudly displays its colors. They symbolize the unity and strength of the Khmer people.",
            "The water festival marks the end of the rainy season and the change of direction of the waters of the Tonl√© Sap, a phenomenon unique in the world. For three days and nights, the country celebrates abundant harvests, prosperity and the power of the waters."
        ]
            }
        };

        // Global variables
        let currentEvent;

        // Utility functions
        function getEventFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const eventId = parseInt(urlParams.get('event')) || 1;
            return eventArtworkMappings[eventId] || eventArtworkMappings[1];
        }

        function updateEventContent() {
            // Update header title
            const eventTitle = document.getElementById('eventTitle');
            eventTitle.textContent = currentEvent.eventName;
            
            // Update main content
            const exhibitionDate = document.getElementById('exhibitionDate');
            const exhibitionLocation = document.getElementById('exhibitionLocation');
            const exhibitionImage = document.getElementById('exhibitionImage');
            const posterThumbnail = document.getElementById('posterThumbnail');
            const exhibitionIntro = document.getElementById('exhibitionIntro');
                
            if (exhibitionDate) exhibitionDate.textContent = currentEvent.eventDate;
            if (exhibitionLocation) exhibitionLocation.textContent = currentEvent.location;
            if (exhibitionImage) {
                exhibitionImage.src = currentEvent.eventImage;
                exhibitionImage.alt = currentEvent.eventName;
            }
            if (posterThumbnail) {
                posterThumbnail.src = currentEvent.eventImage;
                posterThumbnail.alt = currentEvent.eventName;
            }
            if (exhibitionIntro) exhibitionIntro.textContent = currentEvent.description;
            
            // Update tags
            const tagsContainer = document.querySelector('.tags-container');
            if (tagsContainer && currentEvent.tags) {
                tagsContainer.innerHTML = '';
                currentEvent.tags.forEach(tag => {
                    const tagElement = document.createElement('span');
                    tagElement.className = 'tag';
                    tagElement.textContent = tag;
                    tagsContainer.appendChild(tagElement);
                });
            }

            // render the thing to know part
            renderThingsToKnow();
            
            // render the gallery
            renderGallery();
            
            // Remove loading class
            setTimeout(() => {
                eventTitle.classList.remove('loading');
            }, 100);
        }

        function renderGallery() {
            const galleryGrid = document.getElementById("galleryGrid");
            if (!galleryGrid || !currentEvent.gallery) return;

            galleryGrid.innerHTML = ''; // Clear previous gallery

            currentEvent.gallery.forEach((imageUrl, index) => {
                const galleryItem = document.createElement("div");
                galleryItem.className = "gallery-item";
                galleryItem.onclick = () => openModal(imageUrl);

                const img = document.createElement("img");
                img.className = "gallery-image";
                img.src = imageUrl;
                img.alt = `${currentEvent.eventName} Gallery Image ${index + 1}`;
                img.onerror = function() {
                    this.src = 'https://images.unsplash.com/photo-1578662996442-48f60103fc96?w=500&h=300&fit=crop';
                };

                const overlay = document.createElement("div");
                overlay.className = "gallery-overlay";
                overlay.innerHTML = "üîç";

                galleryItem.appendChild(img);
                galleryItem.appendChild(overlay);
                galleryGrid.appendChild(galleryItem);
            });
        }

        function openModal(imageUrl) {
            const modal = document.getElementById("imageModal");
            const modalImage = document.getElementById("modalImage");
            
            modalImage.src = imageUrl;
            modal.style.display = "block";
            
            // Close modal when clicking outside the image
            modal.onclick = function(event) {
                if (event.target === modal) {
                    closeModal();
                }
            }
        }

        function closeModal() {
            const modal = document.getElementById("imageModal");
            modal.style.display = "none";
        }

        function renderThingsToKnow() {
            const factsContainer = document.getElementById("factsContainer");
            if (!factsContainer || !currentEvent.thingsToKnow) return;

            factsContainer.innerHTML = ''; // Clear previous facts

            currentEvent.thingsToKnow.forEach(fact => {
                const factDiv = document.createElement("div");
                factDiv.className = "fact-item";

                const p = document.createElement("p");
                p.textContent = fact;

                factDiv.appendChild(p);
                factsContainer.appendChild(factDiv);
            });
        }
 
        // Navigation function
        function goBackToEvents() {
            document.body.style.opacity = '0.8';
            
            if (window.history.length > 1) {
                window.history.back();
            } else {
                window.location.href = 'index.html';
            }
            
            setTimeout(() => {
                window.location.href = 'index.html';
            }, 300);
        }

        // Keyboard navigation
        function handleKeyDown(e) {
            if (e.key === 'Escape') {
                e.preventDefault();
                const modal = document.getElementById("imageModal");
                if (modal.style.display === "block") {
                    closeModal();
                } else {
                    goBackToEvents();
                }
            }
        }

        // Create floating particles
        function createFloatingParticles() {
            const particlesContainer = document.querySelector('.floating-particles');
            const particleCount = 15;

            for (let i = 0; i < particleCount; i++) {
                const particle = document.createElement('div');
                particle.className = 'particle';
                particle.style.left = Math.random() * 100 + '%';
                particle.style.animationDelay = Math.random() * 8 + 's';
                particle.style.animationDuration = (Math.random() * 4 + 6) + 's';
                particlesContainer.appendChild(particle);
            }
        }

        // Event listeners setup
        function setupEventListeners() {
            document.addEventListener('keydown', handleKeyDown);
            
            // Add smooth scroll behavior
            document.documentElement.style.scrollBehavior = 'smooth';
        }

        // Initialize the application
        function init() {
            // Get current event data
            currentEvent = getEventFromURL();
            
            // Initialize the interface
            updateEventContent();
            setupEventListeners();
            createFloatingParticles();
            
            // Add loading completion class
            document.body.classList.add('loaded');
        }

        // Start the application when DOM is loaded
        if (document.readyState === 'loading') {
            document.addEventListener('DOMContentLoaded', init);
        } else {
            init();
        }
    </script>
</body>
</html>